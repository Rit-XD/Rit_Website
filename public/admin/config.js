import{$ as p,$a as g,$c as vt,A as f,Ac as F,Mc as nt,Nc as ct,Oc as mt,P as T,Pc as lt,Qc as pt,Rc as ht,Sc as dt,Tc as ft,U as D,Uc as R,Vc as ut,W as y,Wc as H,Xc as yt,Yc as wt,Za as x,Zc as xt,_ as A,_a as Q,_b as $,_c as gt,aa as U,ad as Pt,b as B,ba as l,bb as v,bd as e,c as d,cb as V,d as i,da as W,db as _,ea as w,fb as P,fc as G,pc as S,qc as q,sc as h,zc as I}from"./chunk-VTLY3ZQF.js";i();var O=d(f(),1);i();var t={};B(t,{Root:()=>U,Workspace:()=>W,check:()=>nt,code:()=>lt,config:()=>h,date:()=>pt,document:()=>k,entry:()=>xt,file:()=>vt,image:()=>gt,json:()=>ht,link:()=>ct,list:()=>dt,media:()=>M,meta:()=>y,metadata:()=>R,number:()=>ut,object:()=>ft,page:()=>x,path:()=>H,richText:()=>yt,root:()=>l,schema:()=>g,select:()=>mt,snippet:()=>v,tab:()=>I,tabs:()=>F,text:()=>S,track:()=>P,type:()=>p,url:()=>Pt,view:()=>wt,workspace:()=>w});i();i();i();i();i();var b;(r=>{async function a(s,c){let m=await Promise.all(c.map(st=>st(s)));return(await s.connection()).mutate(m.flat())}r.commit=a})(b||(b={}));var K=class J{static Data=Symbol.for("@alinea/Operation.Data");constructor(a){this[J.Data]=a}typeName(a,s){let m=Q.typeNames(a.schema).get(s);if(!m)throw new Error(`Type not found: ${s}`);return m}};var u=new WeakMap,C=class extends V{graph;config;constructor(r){let a=h(r),s={resolve:c=>this.resolver().then(m=>m.resolve(c))};super(a,s),this.config=a,this.graph=new _(a,s)}commit(...r){return b.commit(this,r.map(a=>a[K.Data]).flat())}#t(r){for(let[a,s]of T(r.workspaces)){if(u.has(s))throw new Error(`Workspace is already attached to a CMS: ${a}`);u.set(s,this);for(let[c,m]of T(s)){if(u.has(m))throw new Error(`Root is already attached to a CMS: ${c}`);u.set(m,this)}}}get schema(){return this.config.schema}get workspaces(){return this.config.workspaces}};(r=>{function a(s){let c=u.get(s);if(!c)throw new Error(`No CMS attached to ${s}`);return c}r.instanceFor=a})(C||(C={}));var X=class extends C{async resolver(){throw new Error("Not implemented")}async connection(){throw new Error("Not implemented")}};i();var N=d(f(),1);function Y(r){return(0,N.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:(0,N.jsx)("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})})}function k(r,a){let{definition:s,options:c}=A(a);return p(r,{...c,fields:{...F(I("Document",{icon:$,fields:{title:S("Title",{required:!0,width:.5}),path:H("Path",{required:!0,width:.5}),...s}}),I("Metadata",{icon:Y,fields:{metadata:R()}}))}})}i();i();function Z(r={}){return l("Media",{contains:["MediaLibrary"],isMediaRoot:!0,entries:{...r}})}function M(r={}){return l("Media",{icon:q,contains:["MediaLibrary"],view:G,isMediaRoot:!0,entries:{...Z(r)}})}var o={};B(o,{create:()=>h,document:()=>k,media:()=>M,meta:()=>y,page:()=>x,root:()=>l,schema:()=>g,snippet:()=>v,track:()=>P,type:()=>p,workspace:()=>w});i();i();function E(r){return new X(r)}var L=d(f(),1);var j=d(f(),1);var z=d(f(),1);i();function It(r){return(0,O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:(0,O.jsx)("path",{fill:"currentColor",d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23a.987.987 0 0 0-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41a7.343 7.343 0 0 0 0 1.35l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68zm-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5s3.5 1.57 3.5 3.5s-1.57 3.5-3.5 3.5z"})})}var tt=t.type("Footer",{fields:{title:t.text("Title",{hidden:!0,readOnly:!0}),path:t.path("Path",{hidden:!0,readOnly:!0}),description:t.richText("Description"),navigation:t.link.multiple("Navigation",{fields:{label:t.text("Label")}}),links:t.link.multiple("Links",{fields:{label:t.text("Label")}})}}),et=t.type("Header",{fields:{title:t.text("Title",{hidden:!0,readOnly:!0}),path:t.path("Path",{hidden:!0,readOnly:!0}),navigation:t.link.multiple("Navigation",{fields:{label:t.text("Label")}})}});function bt(r){return(0,L.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:(0,L.jsx)("path",{fill:"currentColor",d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v3c0 .6.4 1 1 1h.5c.2 0 .5-.1.7-.3l3.7-3.7H20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-9 11H7V8.8L8.3 6h2L8.9 9H11zm6 0h-4V8.8L14.3 6h2l-1.4 3H17z"})})}var Ct=bt,kt=o.type("Quote",{icon:Ct,fields:{text:e.text("Text",{multiline:!0})}});function Mt(r){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:(0,j.jsx)("path",{fill:"currentColor",d:"M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52c0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2zm0 0c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52c0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"})})}var Tt=t.type("Timeline",{icon:Mt,fields:{items:t.list("Items",{schema:{Item:t.type("Item",{fields:{date:t.date("Date",{width:.25}),text:t.richText("Text",{width:.75})}}),Highlights:t.type("Highlights",{fields:{title:t.text("Title"),items:t.list("Items",{schema:{Item:t.type("Item",{fields:{percent:t.number("Percent",{width:.25}),text:t.richText("Text",{width:.75})}})}}),button:t.link("Button")}})}})}}),Dt=o.type("Partners",{fields:{title:e.text("Title"),subtitle_left:e.text("Subtitle left",{width:.5}),subtitle_right:e.text("Subtitle right",{width:.5}),partners:e.list("Partners",{schema:{Partner:o.type("Partner",{fields:{position:e.select("Position",{options:{left:"Left",right:"Right"},width:.25}),link:e.link("Link",{width:.75}),image:e.image("Image",{width:.5}),title:e.text("Title",{multiline:!0,width:.5})}})}})}});function St(r){return(0,z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...r,children:(0,z.jsx)("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 14H8c-.55 0-1-.45-1-1s.45-1 1-1h5c.55 0 1 .45 1 1s-.45 1-1 1zm3-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1z"})})}var Ft=o.type("Text",{icon:St,fields:{text:e.richText("Text")}}),at=o.schema({types:{Text:Ft,Timeline:Tt,Quote:kt,Partners:Dt}}),Rt=t.object("Hero",{fields:{title:t.text("Title",{multiline:!0}),text:t.richText("Text"),image:t.image("Image")}}),rt=o.document("Home",{fields:{title:e.text("Title",{readOnly:!0}),path:e.path("Path",{readOnly:!0,hidden:!0,width:.5}),...e.tabs(e.tab("Hero",{fields:{hero:Rt}}),e.tab("Blocks",{fields:{blocks:e.list("Blocks",{schema:at})}}))}}),Ht=o.document("Page",{fields:{blocks:e.list("Blocks",{schema:at})}}),ot=o.document("Not found",{fields:{path:e.path("Path",{readOnly:!0,width:.5}),text:e.richText("Text"),button:e.entry("Button",{condition:D.workspace.is("main").and(D.root.is("pages")),fields:{label:e.text("Label")}})}}),lr=o.type("Page",{fields:{title:e.text("Title"),path:e.path("Path")}}),it=["nl","fr","en","de"],pr=E({dashboard:{dashboardUrl:"/admin.html",handlerUrl:"/api/cms",staticFile:"public/admin.html"},preview:"http://localhost:3000/api/preview",schema:{Home:rt,Page:Ht,Header:et,Footer:tt,NotFound:ot},workspaces:{main:o.workspace("NEKP",{color:"#13bc95",source:"content",mediaDir:"public",roots:{pages:o.root("Pages",{contains:["Page"],entries:{index:o.page(rt({title:"Homepage"}))},i18n:{locales:it}}),general:o.root("General",{contains:["Header","Footer","NotFound"],icon:It,entries:{header:o.page(et({title:"Header"})),footer:o.page(tt({title:"Footer"})),"not-found":o.page(ot({title:"Page not found"}))},i18n:{locales:it}}),media:o.media()}})}});export{pr as cms};
