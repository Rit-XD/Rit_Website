import{$ as B,$a as w,$c as wt,A as S,Cc as b,Dc as R,R as D,Rc as st,Sc as ct,Tc as mt,Uc as pt,Vc as lt,W as m,Wc as dt,Xc as ht,Y as u,Yc as ft,Zc as ut,_c as yt,aa as j,ab as W,ad as gt,b as A,ba as d,bb as g,bd as T,c as M,ca as z,cd as xt,d as r,da as l,db as x,dd as E,eb as _,ed as vt,fa as U,fb as $,fd as bt,ga as y,gd as t,hb as v,ic as G,rc as F,sc as q,uc as h,vc as V}from"./chunk-RPHUGGLD.js";r();var L=M(S(),1);r();var n={};A(n,{Root:()=>z,Workspace:()=>U,check:()=>pt,code:()=>ft,config:()=>h,date:()=>ut,document:()=>I,entry:()=>st,file:()=>ct,image:()=>mt,json:()=>yt,link:()=>dt,list:()=>wt,media:()=>C,meta:()=>u,metadata:()=>T,number:()=>xt,object:()=>gt,page:()=>w,path:()=>E,richText:()=>vt,root:()=>l,schema:()=>g,select:()=>ht,snippet:()=>x,tab:()=>b,tabs:()=>R,text:()=>F,track:()=>v,type:()=>d,url:()=>lt,view:()=>bt,workspace:()=>y});r();r();r();r();r();var k;(o=>{async function a(i,c){let p=await Promise.all(c.map(nt=>nt(i)));return(await i.connection()).mutate(p.flat())}o.commit=a})(k||(k={}));var Q=class J{static Data=Symbol.for("@alinea/Operation.Data");constructor(a){this[J.Data]=a}typeName(a,i){let p=W.typeNames(a.schema).get(i);if(!p)throw new Error(`Type "${B.label(i)}" not found in Schema`);return p}};var f=new WeakMap,P=class extends _{graph;config;constructor(o){let a=h(o),i={resolve:c=>this.resolver().then(p=>p.resolve(c))};super(a,i),this.config=a,this.graph=new $(a,i)}commit(...o){return k.commit(this,o.map(a=>a[Q.Data]).flat())}#t(o){for(let[a,i]of D(o.workspaces)){if(f.has(i))throw new Error(`Workspace is already attached to a CMS: ${a}`);f.set(i,this);for(let[c,p]of D(i)){if(f.has(p))throw new Error(`Root is already attached to a CMS: ${c}`);f.set(p,this)}}}get schema(){return this.config.schema}get workspaces(){return this.config.workspaces}};(o=>{function a(i){let c=f.get(i);if(!c)throw new Error(`No CMS attached to ${i}`);return c}o.instanceFor=a})(P||(P={}));var K=class extends P{async resolver(){throw new Error("Not implemented")}async connection(){throw new Error("Not implemented")}};r();var N=M(S(),1);function X(o){return(0,N.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:(0,N.jsx)("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65c0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})})}function I(o,a){let{definition:i,options:c}=j(a);return d(o,{...c,fields:{...R(b("Document",{icon:V,fields:{title:F("Title",{required:!0,width:.5}),path:E("Path",{required:!0,width:.5}),...i}}),b("Metadata",{icon:X,fields:{metadata:T()}}))}})}r();r();function Y(o={}){return l("Media",{contains:["MediaLibrary"],isMediaRoot:!0,entries:{...o}})}function C(o={}){return l("Media",{icon:q,contains:["MediaLibrary"],view:G,isMediaRoot:!0,entries:{...Y(o)}})}var e={};A(e,{create:()=>h,document:()=>I,media:()=>C,meta:()=>u,page:()=>w,root:()=>l,schema:()=>g,snippet:()=>x,track:()=>v,type:()=>d,workspace:()=>y});r();r();function O(o){return new K(o)}var H=M(S(),1);r();function kt(o){return(0,L.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:(0,L.jsx)("path",{fill:"currentColor",d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23a.987.987 0 0 0-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41a7.343 7.343 0 0 0 0 1.35l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68zm-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5s3.5 1.57 3.5 3.5s-1.57 3.5-3.5 3.5z"})})}var Z=n.type("Footer",{fields:{title:n.text("Title",{hidden:!0,readOnly:!0}),path:n.path("Path",{hidden:!0,readOnly:!0}),description:n.richText("Description"),navigation:n.link.multiple("Navigation",{fields:{label:n.text("Label")}}),links:n.link.multiple("Links",{fields:{label:n.text("Label")}})}}),tt=n.type("Header",{fields:{title:n.text("Title",{hidden:!0,readOnly:!0}),path:n.path("Path",{hidden:!0,readOnly:!0}),navigation:n.link.multiple("Navigation",{fields:{label:n.text("Label")}})}}),et=e.document("Not found",{fields:{path:t.path("Path",{readOnly:!0,width:.5}),text:t.richText("Text"),button:t.entry("Button",{condition:m.workspace.is("main").and(m.root.is("pages")),fields:{label:t.text("Label")}})}}),Pt=e.type("Advantages",{fields:{title:t.text("Title",{width:.5}),image:t.image("Image",{width:.5}),advantages:t.list("Advantages",{schema:{Advantage:e.type("Advantage",{fields:{icon:t.image("Icon",{width:.5}),description:t.text("Description",{multiline:!0,width:.5})}})}})}}),It=e.type("Partners",{fields:{title:t.text("Title"),subtitle_left:t.text("Subtitle left",{width:.5}),subtitle_right:t.text("Subtitle right",{width:.5}),partners:t.list("Partners",{schema:{Partner:e.type("Partner",{fields:{position:t.select("Position",{options:{left:"Left",right:"Right"},width:.25}),link:t.link("Link",{width:.75}),image:t.image("Image",{width:.5}),title:t.text("Title",{multiline:!0,width:.5})}})}})}}),Ct=e.type("Splash",{fields:{title:t.text("Title",{multiline:!0}),text:t.text("Text"),button_left:t.entry("Button",{width:.5,condition:m.workspace.is("main").and(m.root.is("pages")),fields:{label:t.text("Label")}}),button_right:t.entry("Button",{width:.5,condition:m.workspace.is("main").and(m.root.is("pages")),fields:{label:t.text("Label")}})}});function Mt(o){return(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:(0,H.jsx)("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 14H8c-.55 0-1-.45-1-1s.45-1 1-1h5c.55 0 1 .45 1 1s-.45 1-1 1zm3-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1z"})})}var St=e.type("Text",{icon:Mt,fields:{text:t.richText("Text")}}),at=e.schema({types:{Text:St,Partners:It,Splash:Ct,Advantages:Pt}}),it=t.object("Hero",{fields:{image:t.image("Image",{shared:!0}),title:t.text("Title",{multiline:!0}),button:t.entry("Button",{condition:m.workspace.is("main").and(m.root.is("pages")),fields:{label:t.text("Label")}})}}),rt=e.document("Home",{fields:{title:t.text("Title",{readOnly:!0}),path:t.path("Path",{readOnly:!0,hidden:!0,width:.5}),...t.tabs(t.tab("Hero",{fields:{hero:it}}),t.tab("Blocks",{fields:{blocks:t.list("Blocks",{schema:at})}}))}}),Dt=e.document("Page",{...t.tabs(t.tab("Hero",{fields:{hero:it}}),t.tab("Blocks",{fields:{blocks:t.list("Blocks",{schema:at})}}))}),ot=["nl","en"],mr=O({dashboard:{dashboardUrl:"/admin.html",handlerUrl:"/api/cms",staticFile:"public/admin.html"},preview:"http://localhost:3000/api/preview",schema:{Home:rt,Page:Dt,Header:tt,Footer:Z,NotFound:et},workspaces:{main:e.workspace("Rit",{color:"#13bc95",source:"content",mediaDir:"public",roots:{pages:e.root("Pages",{i18n:{locales:ot},contains:["Page"],entries:{index:e.page(rt({title:"Homepage"}))}}),general:e.root("General",{i18n:{locales:ot},icon:kt,contains:["Header","Footer","NotFound"],entries:{header:e.page(tt({title:"Header"})),footer:e.page(Z({title:"Footer"})),"not-found":e.page(et({title:"Page not found"}))}}),media:e.media()}})}});export{mr as cms};
